{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export default function doMarkUp(data) {\n    const gallery = document.querySelector('.gallery');\n    const markUp = data.hits\n      .map(\n        a =>\n          `<li class=\"gallery-item\" data-id=\"${a.id}\">\n          <div class=\"img-container\" >\n          <a class=\"large-image\" href=\"${a.largeImageURL}\">\n          <img class=\"image\" src=\"${a.webformatURL}\" alt=\"${a.tags}\">\n          </a> \n          </div>\n          <ul class=\"description-list\" >\n            <li class=\"description-item\"><p>Likes</p><p>${a.likes}</p></li>\n            <li class=\"description-item\"><p>Views</p><p>${a.views}</p></li>\n            <li class=\"description-item\"><p>Comments</p><p>${a.comments}</p></li>\n            <li class=\"description-item\"><p>Downloads</p><p>${a.downloads}</p></li>\n          </ul>\n        </li>`\n      )\n      .join('');\n    gallery.insertAdjacentHTML('afterbegin', markUp);\n  }","import doMarkUp from './render-functions.js';\nimport SimpleLightbox from 'simplelightbox';\nimport iziToast from 'izitoast';\n\nexport default function requestForImgs(event) {\n  const loader = document.querySelector('.loader');\n  loader.classList.remove('is-hidden');\n  const parameters = `key=42614843-af27c28624474ca020601ef6c&q=${event.target.elements.search.value.trim()}&image_type=photo&orientation=horizontal&safesearch=true`;\n  fetch(`https://pixabay.com/api/?${parameters}`)\n    .then(response => {\n      if (response.ok) {\n        return response.json();\n      } else {\n        throw new Error(response.status);\n      }\n    })\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.show({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          backgroundColor: 'red',\n          messageColor: 'white',\n          position: 'topRight',\n        });\n      } else {\n        doMarkUp(data);\n      }\n    })\n    .then(() => {\n      loader.classList.add('is-hidden');\n      const lightbox = new SimpleLightbox('.large-image', {\n        captionDelay: 250,\n        captionsData: 'alt',\n      });\n      lightbox.refresh();\n    })\n    .catch(error => {\n      iziToast.show({\n        message: 'Sorry, something goes wrong!',\n        backgroundColor: 'red',\n        messageColor: 'white',\n        position: 'topCenter',\n      });\n    });\n}","import requestForImgs from './js/pixabay-api.js';\nimport iziToast from 'izitoast';\n\nconst form = document.querySelector('.form');\n\nform.addEventListener('submit', doSearch);\n\nfunction doSearch(event) {\n  event.preventDefault();\n  if (event.target.elements.search.value === '') {\n    iziToast.show({\n      message: 'Запит на пошук порожній',\n      backgroundColor: 'red',\n      messageColor: 'white',\n      position: 'topRight',\n    });\n  } else {\n    document.querySelector('.gallery').innerHTML = '';\n    requestForImgs(event);\n  }\n  form.reset();\n}"],"names":["doMarkUp","data","gallery","markUp","a","requestForImgs","event","loader","parameters","response","iziToast","SimpleLightbox","error","form","doSearch"],"mappings":"6vBAAe,SAASA,EAASC,EAAM,CACnC,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAASF,EAAK,KACjB,IACCG,GACE,qCAAqCA,EAAE,EAAE;AAAA;AAAA,yCAEVA,EAAE,aAAa;AAAA,oCACpBA,EAAE,YAAY,UAAUA,EAAE,IAAI;AAAA;AAAA;AAAA;AAAA,0DAIRA,EAAE,KAAK;AAAA,0DACPA,EAAE,KAAK;AAAA,6DACJA,EAAE,QAAQ;AAAA,8DACTA,EAAE,SAAS;AAAA;AAAA,cAGlE,EACA,KAAK,EAAE,EACVF,EAAQ,mBAAmB,aAAcC,CAAM,CACnD,CCjBe,SAASE,EAAeC,EAAO,CAC5C,MAAMC,EAAS,SAAS,cAAc,SAAS,EAC/CA,EAAO,UAAU,OAAO,WAAW,EACnC,MAAMC,EAAa,4CAA4CF,EAAM,OAAO,SAAS,OAAO,MAAM,KAAM,CAAA,2DACxG,MAAM,4BAA4BE,CAAU,EAAE,EAC3C,KAAKC,GAAY,CAChB,GAAIA,EAAS,GACX,OAAOA,EAAS,OAEhB,MAAM,IAAI,MAAMA,EAAS,MAAM,CAEvC,CAAK,EACA,KAAKR,GAAQ,CACRA,EAAK,KAAK,SAAW,EACvBS,EAAS,KAAK,CACZ,QACE,2EACF,gBAAiB,MACjB,aAAc,QACd,SAAU,UACpB,CAAS,EAEDV,EAASC,CAAI,CAErB,CAAK,EACA,KAAK,IAAM,CACVM,EAAO,UAAU,IAAI,WAAW,EACf,IAAII,EAAe,eAAgB,CAClD,aAAc,IACd,aAAc,KACtB,CAAO,EACQ,QAAO,CACtB,CAAK,EACA,MAAMC,GAAS,CACdF,EAAS,KAAK,CACZ,QAAS,+BACT,gBAAiB,MACjB,aAAc,QACd,SAAU,WAClB,CAAO,CACP,CAAK,CACL,CC1CA,MAAMG,EAAO,SAAS,cAAc,OAAO,EAE3CA,EAAK,iBAAiB,SAAUC,CAAQ,EAExC,SAASA,EAASR,EAAO,CACvBA,EAAM,eAAc,EAChBA,EAAM,OAAO,SAAS,OAAO,QAAU,GACzCI,EAAS,KAAK,CACZ,QAAS,0BACT,gBAAiB,MACjB,aAAc,QACd,SAAU,UAChB,CAAK,GAED,SAAS,cAAc,UAAU,EAAE,UAAY,GAC/CL,EAAeC,CAAK,GAEtBO,EAAK,MAAK,CACZ"}